<div class="content-heading">
  <div>
    Meus Pacientes
    <small>Bem vindo!</small>
  </div>
</div>

<div id="wrapper">
  <div id="align-right-top">
    <button [routerLink]="[ '/app/home/form' ]" class="mr-1 btn btn-primary">+Add Pacientes</button>
  </div>
</div>


<div class="row" *ngIf="patients$  | async as patients ; else elseTemplate">
  <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12" *ngFor="let patient of patients">
    <div class="card card-default my-3">
      <div class="card-body" style="height: 187px">


        <div class="float-right btn-group" dropdown>
          <button class="btn-invisible" style="padding: 0 0 0 10px" dropdownToggle><em class="fa mr-2 fas fa-angle-down"></em><b
              class="caret"></b>
          </button>
          <div *dropdownMenu class="dropdown-menu animated flipInX" role="menu">
            <a class="dropdown-item" [routerLink]="['/app/home/form',patient.id]"><em class="fa mr-2 fas fa-edit"
                style="color: black"></em>Editar</a>
            <a class="dropdown-item" (click)="onDelete(patient.id)" style="color: black; cursor: pointer"><em
                class="fa mr-2 fas fa-trash"></em>Deletar</a>
            <a class="dropdown-item"  style="color: black; cursor: pointer"><em
                class="fa mr-2 fas fa-image"></em>Trocar Foto</a>
                <a class="dropdown-item"  style="color: black; cursor: pointer"><em
                  class="fa mr-2 fas fa-print"></em>Imprimir</a>
          </div>
        </div>






        <div class="d-flex align-items-left" style="margin:0">

          <div class="mr-3">
                <img class="img-thumbnail rounded-circle" style="width: 80px; height: 80px; border: none; margin-top: 15px" [src]="patient.txt_Foto"  alt="Avatar" />
         </div>

          <div id="text-lim" class="flex-first">
            <div style="margin-top: 10px; margin-bottom: 0px">
              <h4>
                <strong>{{ patient.txt_Nome }}</strong>
              </h4>

              <p>
                {{ patient.txt_DN.toDate() | convertTimestampDate}}
                <br>
                {{ patient.txt_email }}
                <br>
                {{ patient.txt_Tel }}
                <br>
                {{ patient.txt_Cel }}
                <br>
              </p>
            </div>
          </div>

        </div>



        <div id="wrapper" class="card-footer" style="background: transparent; border: transparent; padding: 0">
          <div id="align-right">
            <button class="btn btn-xs btn-secondary mr-3">Acompanhamento</button>
            <button class="btn btn-xs btn-primary">Iniciar</button>
          </div>
        </div>


      </div>


    </div>
  </div>
</div>

<ng-template #elseTemplate>
  <div class="loader-demo loader-demo-sk d-flex align-items-center justify-content-center">
    <div class="sk-cube-grid">
      <div class="sk-cube sk-cube1"></div>
      <div class="sk-cube sk-cube2"></div>
      <div class="sk-cube sk-cube3"></div>
      <div class="sk-cube sk-cube4"></div>
      <div class="sk-cube sk-cube5"></div>
      <div class="sk-cube sk-cube6"></div>
      <div class="sk-cube sk-cube7"></div>
      <div class="sk-cube sk-cube8"></div>
      <div class="sk-cube sk-cube9"></div>
    </div>
  </div>
</ng-template>

<toaster-container [toasterconfig]="toasterconfig"></toaster-container>
